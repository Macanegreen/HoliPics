@using HoliPics.Authorization
@using Microsoft.AspNetCore.Authorization;

@inject IAuthorizationService AuthorizationService

@model HoliPics.Models.Album

@{
    ViewData["Title"] = "Index";
}
@if ((await AuthorizationService.AuthorizeAsync(User, Model, AlbumOperations.Read)).Succeeded)
{
    <nav class="navbar navbar-expand navbar-light full-bleed ignore-padding-top sticky-top"
         style="background-color:rgba(255,255,255,0.7);">
        <div class="container-fluid">
            <div class="navbar">
                <a asp-area="" asp-action="Index" asp-controller="Albums" class="btn pmd-ripple-effect btn-light pmd-btn-flat rounded-circle" type="button">
                    <i class="bi bi-arrow-left-short h3"></i>
                </a>
            </div>
            <div class="navbar-header">
                <h1 class="display-4">@Model.Name</h1>
            </div>
            <div class="navbar center-right">
                <a asp-action="Upload" asp-route-id="@Model.Id" class="btn pmd-ripple-effect btn-light text-primary bg-transparent pmd-btn-flat rounded-circle" type="button">
                    <i class="bi bi-plus-square-dotted h4"></i>
                </a>
            </div>
            <div class="navbar justify-content-between">

                <ul class="navbar-nav flex-grow-1">
                    
                    <li class="nav-item">
                        <form onchange="changeDisplay()">
                            <div class="btn-group" role="group">
                                <input type="radio" class="btn-check" name="btnradio" value="default" id="default-btn" autocomplete="off" checked />
                                <label class="btn btn-outline-secondary" for="default-btn">
                                    <i class="bi bi-columns-gap h5"></i>
                                </label>

                                <input type="radio" class="btn-check" name="btnradio" value="info" id="info-btn" autocomplete="off" />
                                <label class="btn btn-outline-secondary" for="info-btn">
                                    <i class="bi bi-grid-3x3-gap h5"></i>
                                </label>

                                <input type="radio" class="btn-check" name="btnradio" value="focus" id="focus-btn" autocomplete="off" />
                                <label class="btn btn-outline-secondary" for="focus-btn">
                                    <i class="bi bi-images h5"></i>
                                </label>
                            </div>
                        </form>
                    </li>
                </ul>

            </div>
        </div>
    </nav>


    <div id="default-display">
        @await Html.PartialAsync("DefaultDisplayPartial", Model)
    </div>

    <div id="info-display">
        @await Html.PartialAsync("InfoDisplayPartial", Model)
    </div>

    <div id="focus-display">
        @await Html.PartialAsync("FocusDisplayPartial", Model)
    </div>

   
    
   
    @section Scripts {
        <script>
            document.getElementById("default-display").style.display = "inline";
            document.getElementById("info-display").style.display = "none";
            document.getElementById("focus-display").style.display = "none";

            function changeDisplay() {
                if (document.getElementById("default-btn").checked) {
                    document.getElementById("default-display").style.display = "inline";
                    document.getElementById("info-display").style.display = "none";
                    document.getElementById("focus-display").style.display = "none";
                }
                else if (document.getElementById("info-btn").checked) {
                    document.getElementById("default-display").style.display = "none";
                    document.getElementById("info-display").style.display = "inline";
                    document.getElementById("focus-display").style.display = "none";
                }
                else if (document.getElementById("focus-btn").checked) {
                    document.getElementById("default-display").style.display = "none";
                    document.getElementById("info-display").style.display = "none";
                    document.getElementById("focus-display").style.display = "inline";
                }
            }
  
        </script>
    }  
}


